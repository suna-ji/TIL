### 트랜잭션
DB는 트랜잭션 단위로 처리된다.

#### 트랜잭션 특징
- 원자성 (Atomicity)   
  더 이상 분해가 불가능한 최소단위로, 전부 처리되거나 하나도 처리되지 않아야 한다.
- 일관성 (Consistency)   
  하나의 트랜잭션을 처리하고 난 후, 데이터베이스는 여전히 일관된 상태여야 한다.
- 격리성 (Isolation)   
  실행중인 트랜잭션의 중간결과를 다른 트랜잭션이 접근할 수 없다.   
- 영속성 (Durability)   
  트랜잭션이 일단 그 실행을 성공적으로 완료하면 그 결과는 데이터베이스에 영속적으로 저장된다.
  
#### 격리성 수준
Database에서 제공하는 격리성 수준은 아래와 같이 4개가 있다.
- Read Uncommitted    
  트랜잭션에서 처리중인 아직 커밋되지 않은 데이터를 다른 트랜잭션이 읽는것을 허용한다.   
  -> 권장하는 설정은 아님
- Read Committed
  트랜잭션이 커밋되어 확정된 데이터만 다른 트랜잭션이 읽도록 허용한다.   
  (Dirty Read 발생 가능성을 막는다.)
- Repeatable Read   
  트랜잭션내에서 삭제 ,변경에 대해서 undo 로그에 넣어두고 앞서 발생한 트랜잭션에 대해서는 실제 데이터가 아닌 Undo 로그에 있는 백업 데이터를 읽게한다.
- Serializable Read
  트랜잭션 내에서 쿼리를 두번 이상 수행할 때, 첫번째 쿼리에 있던 레코드가 사라지거나 값이 바뀌지 않음은 물론 새로운 레코드가 나타나지 않도록 하는 설정


[출처](https://sabarada.tistory.com/117)


*** 
그냥 용어가 헷갈려서..    
drity checking?   
- JPA는 엔티티 매니저가 엔티티를 저장/조회/수정/삭제를 해준다.   
- 엔티티 매니저에는 수정 메서드가 존재하지 않는다.   
- 그럼 수정은 어떻게 실행되는걸까?   
- JPA는 트랜잭션 안에서 엔티티의 변경이 발생하면 변경 내용을 자동으로 데이터베이스에 반영하는 "더티체킹"을 해준다.   

[출처](https://interconnection.tistory.com/121)